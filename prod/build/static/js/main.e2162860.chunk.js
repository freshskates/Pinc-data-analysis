(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},106:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(21),r=c.n(n),i=(c(54),c(16)),o=c(3),l=c(18),u=c(2),d=c(15),j=c.n(d),b=c(34),h=c.n(b),O=c(6),m=c(24),p={username:void 0,token:void 0},f=Object(m.b)({name:"user",initialState:p,reducers:{userLogin:function(e,t){e.username=t.payload.username,e.token=t.payload.token},userLogout:function(e){e.username=void 0,e.token=void 0}}}),x=f.actions,_=x.userLogin,v=x.userLogout,g=function(e){return e.user},N=function(e){return void 0!==e.user.username},k=f.reducer,C=c(109),y=c(7),S=c(19),w=c.n(S),E=c(1);var L=function(e){var t=e.switch_auth_cb,c=(e.error_msg_cb,e.close_modal_cb),s=Object(O.b)(),n=Object(a.useState)(""),r=Object(u.a)(n,2),i=r[0],o=r[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),h=b[0],m=b[1],p=Object(C.a)(["user"]),f=Object(u.a)(p,2),x=f[0],v=f[1],g=function(){var e=Object(l.a)(j.a.mark((function e(t){var a,n,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=y.b.loading("Loading..."),e.prev=2,n={username:i,password:h},e.next=6,w.a.post("http://localhost:3001/users/authenticate",n,{headers:{"x-access-token":x.user}});case 6:if(r=e.sent,o=r.data,console.log(JSON.stringify(o)),!1!==o.success){e.next=13;break}return y.b.dismiss(a),y.b.warn(o.message),e.abrupt("return");case 13:s(_({username:i})),v("user",o.data.token,{path:"/"}),y.b.dismiss(a),y.b.success("Successfully logged in"),c(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),y.b.dismiss(a),y.b.error("Connection Error");case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"auth_container",children:[Object(E.jsx)("p",{className:"auth_title",children:"Log into your account"}),Object(E.jsx)("div",{className:"auth_form",children:Object(E.jsxs)("form",{onSubmit:function(e){return g(e)},children:[Object(E.jsx)("p",{className:"auth_label_text",children:"Username"}),Object(E.jsx)("input",{placeholder:"Enter username",value:i,type:"text",onChange:function(e){return o(e.target.value)}}),Object(E.jsx)("p",{className:"auth_label_text",children:"Password"}),Object(E.jsx)("input",{placeholder:"Enter password",value:h,type:"password",onChange:function(e){return m(e.target.value)}}),Object(E.jsxs)("div",{className:"auth_buttons",children:[Object(E.jsx)("p",{className:"switch_auth",onClick:function(){return t(!1)},children:"Create an account"}),Object(E.jsx)("button",{className:"auth_button",type:"submit",children:"Login"})]})]})})]})};var P=function(e){var t=e.switch_auth_cb,c=(e.error_msg_cb,e.close_modal_cb),s=Object(O.b)(),n=Object(a.useState)(""),r=Object(u.a)(n,2),i=r[0],o=r[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),h=b[0],m=b[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),x=f[0],v=f[1],g=Object(C.a)(["user"]),N=Object(u.a)(g,2),k=(N[0],N[1]),S=function(){var e=Object(l.a)(j.a.mark((function e(t){var a,n,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=y.b.loading("Loading..."),e.prev=2,n={username:i,password:h,token:x},e.next=6,w.a.post("http://localhost:3001/users/create",n);case 6:if(r=e.sent,(o=r.data).success){e.next=12;break}return y.b.dismiss(a),y.b.warn(o.message),e.abrupt("return");case 12:s(_({username:i})),k("user",o.data.token,{path:"/"}),y.b.dismiss(a),y.b.success("Successfully created account"),c(),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"auth_container",children:[Object(E.jsx)("p",{className:"auth_title",children:"Register an account"}),Object(E.jsx)("div",{className:"auth_form",children:Object(E.jsxs)("form",{onSubmit:function(e){return S(e)},children:[Object(E.jsx)("p",{className:"auth_label_text",children:"Username"}),Object(E.jsx)("input",{placeholder:"Enter username",value:i,type:"text",onChange:function(e){return o(e.target.value)}}),Object(E.jsx)("p",{className:"auth_label_text",children:"Password"}),Object(E.jsx)("input",{placeholder:"Enter password",value:h,type:"password",onChange:function(e){return m(e.target.value)}}),Object(E.jsx)("p",{className:"auth_label_text",children:"Referral Token"}),Object(E.jsx)("input",{placeholder:"Enter access token",value:x,type:"text",onChange:function(e){return v(e.target.value.toUpperCase())}}),Object(E.jsxs)("div",{className:"auth_buttons",children:[Object(E.jsx)("p",{className:"switch_auth",onClick:function(){return t(!0)},children:"Already have an account? Log in"}),Object(E.jsx)("button",{className:"auth_button",type:"submit",children:"Sign Up"})]})]})})]})};c(89);var D=function(e){var t=e.close_modal_cb,c=(Object(O.c)(g),Object(O.b)(),Object(a.useState)(!0)),s=Object(u.a)(c,2),n=s[0],r=s[1],i=Object(C.a)(["user"]),o=Object(u.a)(i,2);return o[0],o[1],Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"container",children:[n&&Object(E.jsx)(L,{switch_auth_cb:r,close_modal_cb:t}),!n&&Object(E.jsx)(P,{switch_auth_cb:r,close_modal_cb:t})]})})};c(90);h.a.setAppElement("#root");var A=function(e){var t,c=e.light,s=Object(o.f)(),n=Object(O.c)(g),r=Object(O.b)(),d=Object(O.c)(N),b=Object(C.a)(["user"]),m=Object(u.a)(b,3),p=m[0],f=(m[1],m[2]),x=Object(a.useState)(!1),k=Object(u.a)(x,2),S=k[0],L=k[1];function P(){L(!1)}var A=function(){r(v()),f("user",{path:"/"}),y.b.success("Successfully logged out")},R=function(){var e=Object(l.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("http://localhost:3001/users/read",{headers:{"x-access-token":p.user}});case 3:t=e.sent,(c=t.data).success?r(_({username:c.data.username,token:c.data.referral_token})):A(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){R()}),[p.user]),Object(E.jsxs)("div",{className:"nav-container",children:[d&&Object(E.jsx)("i",{onClick:function(){return s("/u/".concat(n.username))},className:"fa fa-user user_icon ".concat(c&&"light_mode"),"aria-hidden":"true"}),!d&&Object(E.jsx)("p",{className:"nav-element ".concat(c&&"light_mode"),onClick:function(){L(!0)},children:"Login"}),d&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{className:"nav-element ".concat(c&&"light_mode"),onClick:A,children:"Logout"}),Object(E.jsx)("p",{className:"nav-element ".concat(c&&"light_mode"),onClick:function(){return s("/stats")},children:"Stats"})]}),Object(E.jsxs)(h.a,{isOpen:S,onAfterOpen:function(){t.style.color="black"},onRequestClose:P,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.20)"},content:{top:"50%",left:"50%",border:"none",right:"auto",height:"420px",width:"350px",bottom:"auto",backgroundColor:"rgb(255,255,255)",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"10px"}},contentLabel:"Auth Section",children:[Object(E.jsx)("i",{onClick:P,className:"fas fa-times black_icon"}),Object(E.jsx)("div",{className:"modal_header",children:Object(E.jsx)("h2",{ref:function(e){return t=e}})}),Object(E.jsx)(D,{close_modal_cb:P})]}),Object.entries({About:"/about",Home:"/"}).map((function(e){var t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(E.jsx)(i.b,{className:"nav-element ".concat(c&&"light_mode"),to:s,children:a},a)}))]})};c(91);var R=function(){var e=Object(o.f)(),t=Object(O.c)(g),c=Object(O.c)(N);return Object(E.jsxs)("div",{className:"greeting-container",children:[Object(E.jsxs)("h1",{children:["Hello, ",null!==t&&void 0!==t&&t.username?t.username:"user","!"]}),Object(E.jsx)("h4",{children:"This is a PINC Data analysis website. This site was created for the purpose of analyzing the data of pinc students."}),Object(E.jsx)("button",{className:"greeting_button",onClick:function(){c?e("/stats"):y.b.error("Must log in to access content")},children:"Statistics"}),Object(E.jsx)("button",{className:"greeting_button",onClick:function(){c?e("/u/".concat(t.username)):y.b.error("Must log in to access content")},children:"Dashboard"})]})};var T=function(){return Object(E.jsx)("div",{className:"home-body-1"})};c(92);var I=function(){return Object(E.jsxs)("div",{className:"home-container",children:[Object(E.jsx)("div",{className:"image-container",children:Object(E.jsxs)("div",{className:"header-container",children:[Object(E.jsx)(A,{light:!1}),Object(E.jsx)(R,{})]})}),Object(E.jsx)(T,{})]})},F=c.p+"static/media/galaxy.6e53d948.jpg",B=c.p+"static/media/default_pfp.e38decd9.png",U=c(12),G=c(9),M=c(48);c(93);var z=function(e){var t=e.ref_token,c=Object(a.useState)([]),s=Object(u.a)(c,2),n=s[0],r=s[1],i=Object(M.a)({accept:".csv",onDrop:function(e){var t=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));r([].concat(Object(G.a)(n),Object(G.a)(t)))}}),o=i.getRootProps,l=i.getInputProps,d=n.map((function(e){return Object(E.jsx)("p",{children:e.name},e.name)}));return Object(E.jsx)("div",{className:"adminpanel_container",children:Object(E.jsxs)("div",{className:"admin_info",children:[Object(E.jsxs)("div",{className:"token_container",children:[Object(E.jsx)("p",{children:"Referral Token"}),Object(E.jsxs)("div",{className:"token_info",children:[Object(E.jsx)("p",{className:"token_text",children:" Token: "}),Object(E.jsx)("p",{className:"token_text",children:t}),Object(E.jsx)("i",{className:"fas fa-copy token_copy",onClick:function(){return navigator.clipboard.writeText(t)}})]})]}),Object(E.jsx)("div",{className:"token_description",children:Object(E.jsx)("p",{className:"token_desc",children:"Tokens are used to give other users access to this website. When registering users will be asked to provide a refferal token."})}),Object(E.jsxs)("div",{className:"stats_add",children:[Object(E.jsx)("p",{children:"Add new dataset"}),Object(E.jsx)("p",{className:"token_desc",children:"Select or drag and drop a dataset(csv file) to replace or add on the existing data"}),Object(E.jsxs)("div",Object(U.a)(Object(U.a)({className:"select_file"},o()),{},{children:[Object(E.jsx)("input",Object(U.a)({},l())),Object(E.jsx)("p",{className:"token_desc",children:"Drop Here"}),Object(E.jsx)("p",{children:d})]})),Object(E.jsxs)("div",{className:"stats_butons",children:[Object(E.jsx)("button",{className:"normal_button ".concat(0===n.length?"disabled_btn":""),onClick:function(){return r([])},children:"Clear"}),Object(E.jsx)("button",{className:"normal_button ".concat(0===n.length?"disabled_btn":""),children:"Provision"})]})]})]})})},H=c(29),J=c.n(H),W=function(e){return new Promise((function(t){return setTimeout(t,e)}))};c(94);var q=function(){var e=Object(o.g)().username,t=Object(o.f)(),c=Object(O.b)(),s=Object(O.c)(g),n=Object(C.a)(["user"]),r=Object(u.a)(n,3),i=r[0],l=(r[1],r[2]),d=Object(a.useState)(!0),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){i.user||(y.b.error("Must log in to access content"),c(v()),l("user",{path:"/"}),t("/"))}),[i.user]),Object(a.useEffect)((function(){W(500).then((function(){return h(!1)}))}),[]),Object(E.jsxs)("div",{className:"dashboard",children:[Object(E.jsx)(J.a,{color:"black",loading:b,size:60}),!b&&Object(E.jsxs)("div",{className:"dashboard_container",children:[Object(E.jsxs)("div",{className:"dashboard_header",style:{backgroundImage:"url(".concat(F,")")},children:[Object(E.jsx)(A,{light:!1}),Object(E.jsx)("img",{className:"dashboard_pfp",src:B})]}),Object(E.jsxs)("div",{className:"dashboard_info_container",children:[Object(E.jsxs)("div",{className:"dashboard_list",children:[Object(E.jsx)("div",{className:"dashboard_info_element",children:e}),Object(E.jsx)("div",{className:"dashboard_element",children:"Admin Panel"}),Object(E.jsx)("div",{className:"dashboard_element",children:"Settings"})]}),Object(E.jsx)("div",{className:"dashboard_info",children:Object(E.jsx)(z,{ref_token:s.token})})]})]})]})},V=c.p+"static/media/pinc.67afedd6.png",K=c(10),Q=c(49),X={data:void 0},Y=Object(m.b)({name:"pinc_data",initialState:X,reducers:{setPincData:function(e,t){e.data=t.payload}}}),Z=Y.actions.setPincData,$=function(e){return e.pinc_data.data},ee=Y.reducer,te=c(4);var ce={"Race/Ethnicity":"ethnicity",Gender:"sex","Pell Eligibility":"PELL_ELIGIBLE_DESC",Major:"major",Grade:"grade","Parent Education":"PARENT_EDUC_STAT","Student Education":"level"},ae={ethnicity:"Race/Ethnicity",sex:"Gender",PELL_ELIGIBLE_DESC:"Pell Eligibility",major:"Major",grade:"Grade",PARENT_EDUC_STAT:"Parent Education",level:"Student Education"};c(100);K.e.register(K.d,K.i,K.b,K.n,K.o,K.g);var se=function(e,t,c){console.log("selected"),console.log(c);var a=function(e,t,c){var a,s=["#BF045B","#365949","#F26D3D","#88BF8B","#05131C","#4B8696","#768FA0"],n=[],r=Object(te.a)(c);try{var i=function(){var t=a.value,c=e.filter((function(e){return e.course_name===t}));n=[].concat(Object(G.a)(n),Object(G.a)(c))};for(r.s();!(a=r.n()).done;)i()}catch(h){r.e(h)}finally{r.f()}var o=Array.from(new Set(n.map((function(e){return e.semester})))),l=Array.from(new Set(n.map((function(e){return e[t]}))));o=function(e){var t={Winter:1,Spring:2,Summer:3,Fall:4};return e.sort((function(e,c){var a=e.split(" "),s=c.split(" ");return a[1]-s[1]||t[a[0]]-t[s[0]]}))}(o);for(var u=[],d=function(){var e=b[j],c={};c.label=e,c.data=o.map((function(c){return n.filter((function(a){return a[t]===e&&a.semester===c})).length})),c.backgroundColor=s[u.length%s.length],u.push(c)},j=0,b=l;j<b.length;j++)d();return{datasets:u,labels:o}}(e,t,c);return console.log("data"),console.log(a),a},ne=function(e,t){return{plugins:{title:{display:!0,text:"".concat(ae[e]," analysis of ").concat(t.join(" and "))}},responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}}};function re(e){var t=e.ref_cb,c=e.courses,a=e.demographic,s=Object(O.c)($);return Object(E.jsx)("div",{style:{height:"200px",width:"70%"},children:s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q.a,{id:"current_graph",options:ne(a,c),data:se(s,a,c),ref:t}),Object(E.jsx)("div",{id:"current_graph_scroll",className:"spacer"})]})})}var ie=c.p+"static/media/dashboard_banner.03997ed9.jpg";c(101);var oe=function(e){var t=e.class_name,c=(e.image_src,e.select_cb),a=e.courses;return Object(E.jsx)("a",{href:"#current_graph_scroll",className:"class_info",onClick:function(){return c(a)},style:{backgroundImage:"url(".concat(ie,")")},children:Object(E.jsx)("div",{className:"class_name",children:Object(E.jsx)("p",{className:"class_name_text",children:t})})})};c(102);var le=function(e){var t=e.selected_demographic,c=Object(a.useRef)(null),s=Object(a.useState)(["CSC220","CSC219"]),n=Object(u.a)(s,2),r=n[0],i=n[1],o=Object(C.a)(["user"]),d=Object(u.a)(o,3),b=d[0],h=(d[1],d[2],Object(O.b)()),m=function(){var e=Object(l.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("http://localhost:3001/stats/read",{headers:{"x-access-token":b.user}});case 3:t=e.sent,console.log(t),console.log(t),console.log(t),(c=t.data).success&&(h(Z(c.data)),console.log(c.data)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){m()})),Object(E.jsxs)("div",{className:"statspanel_container",children:[Object(E.jsxs)("div",{className:"stats_info",children:[Object(E.jsx)(oe,{courses:["CSC220","CSC219"],select_cb:i,class_name:"CSC 220 | 219",image_src:"asd"}),Object(E.jsx)(oe,{courses:["CSC210","CSC306"],select_cb:i,class_name:"CSC 210 | 306",image_src:"asd"}),Object(E.jsx)(oe,{courses:["CSC307","CSC308"],select_cb:i,class_name:"CSC 307 | 308",image_src:"asd"}),Object(E.jsx)(oe,{courses:["CSC699","CSC698"],select_cb:i,class_name:"CSC 698 | 699",image_src:"asd"})]}),Object(E.jsxs)("div",{className:"stats_data_vis",children:[Object(E.jsxs)("div",{className:"stats_download_zone",children:[Object(E.jsxs)("p",{className:"stats_download_desc",children:["Download data visualization for ",r.join(" and ")]}),Object(E.jsx)("button",{className:"download_button",onClick:function(){},children:"Download"})]}),Object(E.jsx)("div",{className:"stats_display",children:Object(E.jsx)(re,{ref_cb:c,courses:r,demographic:t})})]})]})};c(103),c(104);var ue=function(e){var t=e.select_demographic_cb;return Object(E.jsxs)("div",{className:"filter_options",children:[Object(E.jsx)("p",{children:"Demographic Factor"}),Object(E.jsx)("select",{className:"filter_select",children:Object.entries(ce).map((function(e){var c=Object(u.a)(e,2),a=c[0],s=c[1];return Object(E.jsx)("option",{value:s,onClick:function(e){return t(e.target.value)},children:a})}))}),Object(E.jsx)("p",{children:"Visual Representation"}),Object(E.jsx)("select",{className:"filter_select",children:["Graph","Plot"].map((function(e){return Object(E.jsx)("option",{value:e,children:e})}))})]})};var de=function(){var e=Object(O.b)(),t=Object(o.f)(),c=Object(a.useState)("ethnicity"),s=Object(u.a)(c,2),n=s[0],r=s[1],i=Object(C.a)(["user"]),l=Object(u.a)(i,3),d=l[0],j=(l[1],l[2]),b=(Object(O.c)(N),Object(a.useState)(!0)),h=Object(u.a)(b,2),m=h[0],p=h[1];return Object(a.useEffect)((function(){d.user||(y.b.error("Must log in to access content"),e(v()),j("user",{path:"/"}),t("/"))}),[d.user]),Object(a.useEffect)((function(){W(500).then((function(){return p(!1)}))}),[]),Object(E.jsxs)("div",{className:"stats_dashboard",children:[Object(E.jsx)(J.a,{color:"black",loading:m,size:60}),!m&&Object(E.jsxs)("div",{className:"stats_dashboard_container",children:[Object(E.jsx)("div",{className:"stats_dashboard_header",style:{backgroundImage:"url(".concat(F,")")},children:Object(E.jsx)(A,{light:!1})}),Object(E.jsxs)("div",{className:"stats_dashboard_info_container",children:[Object(E.jsxs)("div",{className:"stats_dashboard_list",children:[Object(E.jsx)("div",{style:{backgroundImage:"url(".concat(V,") ")},className:"stats_dashboard_pfp "}),Object(E.jsx)("div",{className:"stats_dashboard_element",children:"Select Filters"}),Object(E.jsx)("p",{className:"small_text",children:"These filters will be applied to the class you will be selecting to analyze"}),Object(E.jsx)(ue,{select_demographic_cb:r})]}),Object(E.jsx)("div",{className:"stats_dashboard_info",children:Object(E.jsx)(le,{selected_demographic:n})})]})]})]})};c(105);var je=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(i.a,{children:Object(E.jsxs)(o.c,{children:[Object(E.jsx)(o.a,{path:"/",element:Object(E.jsx)(I,{})}),Object(E.jsx)(o.a,{path:"/about",element:Object(E.jsx)(I,{})}),Object(E.jsx)(o.a,{path:"/stats",element:Object(E.jsx)(de,{})}),Object(E.jsx)(o.a,{path:"/u/:username",element:Object(E.jsx)(q,{})})]})})})},be=Object(m.a)({reducer:{user:k,pinc_data:ee}}),he=c(108);r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(O.a,{store:be,children:Object(E.jsxs)(he.a,{children:[Object(E.jsx)(je,{}),Object(E.jsx)(y.a,{})]})})}),document.getElementById("root"))},54:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.e2162860.chunk.js.map